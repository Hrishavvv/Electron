function openWindow(e){const t=document.getElementById(e);t.style.display="flex",t.style.zIndex=1001,t.style.top=(t.innerHeight-t.clientHeight)/2+"px",t.style.left=(t.innerWidth-t.clientWidth)/2+"px"}function updateTime(){const e=document.getElementById("time"),t=new Date,n=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");e.textContent=`${n}:${o}`}document.querySelectorAll(".close").forEach((e=>{e.addEventListener("click",(function(){this.closest(".window").style.display="none"}))})),document.querySelectorAll(".minimize").forEach((e=>{e.addEventListener("click",(function(){this.closest(".window").style.display="none"}))})),document.querySelectorAll(".maximize").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".window");e.classList.contains("maximized")?(e.style.width="600px",e.style.height="400px",e.style.top=(e.innerHeight-e.clientHeight)/2+"px",e.style.left=(e.innerWidth-e.clientWidth)/2+"px",e.classList.remove("maximized")):(e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.classList.add("maximized"))}))})),document.getElementById("start-menu-button").addEventListener("click",(function(){document.getElementById("start-menu-content").classList.toggle("hidden")})),document.addEventListener("click",(function(e){const t=document.getElementById("start-menu-button"),n=document.getElementById("start-menu-content");e.target===t||n.contains(e.target)||n.classList.add("hidden")})),setInterval(updateTime,1e3),updateTime();let draggedWindow=null,offsetX=0,offsetY=0;function moveWindow(e){draggedWindow&&(draggedWindow.style.left=e.clientX-offsetX+"px",draggedWindow.style.top=e.clientY-offsetY+"px")}function stopMovingWindow(){document.removeEventListener("mousemove",moveWindow),document.removeEventListener("mouseup",stopMovingWindow),draggedWindow=null}function setBackground(e){document.getElementById("desktop").style.backgroundImage=`url(${e})`}function openTab(e,t){var n,o,d;for(o=document.getElementsByClassName("tabcontent"),n=0;n<o.length;n++)o[n].style.display="none";for(d=document.getElementsByClassName("tablink"),n=0;n<d.length;n++)d[n].className=d[n].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}document.querySelectorAll(".title-bar").forEach((e=>{e.addEventListener("mousedown",(function(e){draggedWindow=this.closest(".window"),offsetX=e.clientX-draggedWindow.offsetLeft,offsetY=e.clientY-draggedWindow.offsetTop,document.addEventListener("mousemove",moveWindow),document.addEventListener("mouseup",stopMovingWindow)}))})),window.onload=function(){const e=localStorage.getItem("backgroundImage");setBackground(e||"icons/cyberpunk.jpg")},document.getElementById("bg-upload").addEventListener("change",(function(e){const t=e.target.files[0],n=new FileReader;n.onload=function(e){const t=e.target.result;localStorage.setItem("backgroundImage",t),setBackground(t)},n.readAsDataURL(t)})),document.querySelector(".tablink").click();